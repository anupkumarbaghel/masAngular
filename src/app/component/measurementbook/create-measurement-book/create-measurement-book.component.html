<div class="text-center" *ngIf="error">
  <h5 style="color:red">There is error, please try again</h5>
</div>

<div class="container mt-4">
  <div class="form-group row">
    <label for="txtnameOfContractor" style="margin-left:0" class="col-md-2 text-right col-form-label">Firm/Contractor</label>
    <div class="col-md-4">
      <input class="form-control" [(ngModel)]="measurementBook.nameOfContractor" type="text" id="txtnameOfContractor">
    </div>
    <label for="txtmBNumber" class="col-md-2 text-right col-form-label">LUN Order no.</label>
    <div class="col-md-4">
      <input class="form-control" [(ngModel)]="measurementBook.lunOrderNo" type="text" id="txtlUNOrderNo">
    </div>
    
    
  </div>
  <div class="form-group row">
      <label for="txtaggrementNumber" class="col-md-2 text-right col-form-label">Agreement no.</label>
      <div class="col-md-4">
        <input class="form-control" [(ngModel)]="measurementBook.aggrementNumber" type="text" id="txtaggrementNumber">
      </div>
      <label for="txtworkOrderNumber" class="col-md-2 text-right col-form-label">Work Order no.</label>
      <div class="col-md-4">
        <input class="form-control" [(ngModel)]="measurementBook.workOrderNumber" type="text" id="txtworkOrderNumber">
      </div>
  </div>
  

  <div class="form-group row"> 
      <label for="txtmBNumber" class="col-md-2 text-right col-form-label">Mts MB no</label>
      <div class="col-md-4">
        <input class="form-control" [(ngModel)]="measurementBook.mbNumber" type="text" id="txtmBNumber">
      </div>
    <label for="txtpageNumber" class="col-md-2 text-right col-form-label">Mts Page no</label>
    <div class="col-md-4">
      <input class="form-control" [(ngModel)]="measurementBook.pageNumber" type="text" id="txtpageNumber">
    </div>
  </div>

  <div class="form-group row"> 
      <label for="txtmBNumber" class="col-md-2 text-right col-form-label">Bill no</label>
      <div class="col-md-4">
        <input class="form-control" [(ngModel)]="measurementBook.billNo" type="text" id="txtmBNumber">
      </div>
    <label for="txtpageNumber" class="col-md-2 text-right col-form-label">Bill MB no</label>
    <div class="col-md-4">
      <input class="form-control" [(ngModel)]="measurementBook.billMBNo" type="text" id="txtpageNumber">
    </div> 
  </div>
  <div class="form-group row">   
      <div class="col-md-6">
       
      </div>
    <label for="txtpageNumber" class="col-md-2 text-right col-form-label">Bill Page no</label>
    <div class="col-md-4">
      <input class="form-control" [(ngModel)]="measurementBook.billPageNo" type="text" id="txtpageNumber">
    </div> 
  </div>
  <div class="form-group row"> 
      <label for="txtIndentDate" class="col-md-2 col-form-label text-right">Measurement dt</label>
      <div class="col-md-4">
          <input class="form-control" type="date" [(ngModel)]="measurementBook.measurementDate" id="txtMeasurementDate">
      </div>
      <label for="txtIndentDate" class="col-md-2 col-form-label text-right">Bill dt</label>
      <div class="col-md-4">
          <input class="form-control" type="date" [(ngModel)]="measurementBook.billDate" id="txtMeasurementDate">
      </div>
  </div>

   

  <table class="table table-responsive">
    <thead>
      <tr class="table-primary">
        <th>S.no.</th>
        <th class="fullWidth">Description</th>
        <th>Qty</th>
        <th class="largeWidth">Head of Account</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let measurementBookTable of measurementBook.mbTable | deletedItemFilter">
        <td><input class="smallWidth form-control" [(ngModel)]="measurementBookTable.serialNumber" type="text"></td>
        <td><select [compareWith]="byId" [(ngModel)]="measurementBookTable.masterRegister" class="form-control">
            <option  *ngFor="let masterRegister of masterRegisterCollection" 
            [ngValue]="masterRegister">({{masterRegister.serialNumber}}) {{masterRegister.materialNameWithDescription}}</option>
         </select></td>
        <td>
            <div class="input-group">
          <input class="mediumWidth form-control" [(ngModel)]="measurementBookTable.quantity" type="number">
          <span class="input-group-addon">{{measurementBookTable.masterRegister.materialUnit}}</span>
            </div>
        </td>
        <td *ngIf="measurementBook.mbTable.indexOf(measurementBookTable)==0"  [attr.rowspan]="headOfAccountRowSpan">
            <textarea class="largeWidth form-control" [(ngModel)]="measurementBook.headOfAccount" [rows]="headOfAccountRowSpan*2" ></textarea>
        </td>
       
        <td><button *ngIf="measurementBook.mbTable.indexOf(measurementBookTable)!=0" type="button" (click)="onDelButtonClick(measurementBookTable)">X</button></td>
      </tr>
    </tbody>
  </table>






  <div class="text-right">
    <div>
      <button type="button" class="btn btn-success" (click)="onAddRowButtonClick()">Add Row</button>
      <button type="button" class="btn btn-success" (click)="onSaveButtonClick()">Save</button>
      <button type="button" class="btn btn-success" (click)="onDraftButtonClick()">Draft</button>
      <button type="button" class="btn btn-success" (click)="onSubmitButtonClick()">Submit</button>
    </div>
  </div>

  
</div>